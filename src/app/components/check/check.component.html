<div class="appbar">
  <h1 class="naslov" style="font-size: xx-large; font-weight: 700;"><span class="check_naslov">Obkljukovalnica</span></h1>
</div>

<div class='spinner d-flex justify-content-center'>
  <mat-progress-spinner
          class="example-margin"
          [color]="color"
          [mode]="mode"
          *ngIf="!loaded">
  </mat-progress-spinner>
</div>


<!-- Opozorilo za manjkajoc datum -->
<div class="container udelezenci">
  <div class="empty_state" *ngIf="loaded && data.length == 0">
    <img src="../../../assets/images/empty_state.png" alt="" style="width: 100%;">
  </div>
  <div class="alert alert-warning container" role="alert" [hidden]='izbranDatumIsValid'>
    <div class="row h-100">
      <div class="col my-auto">
        <span class="alert-heading"><i class="fas fa-exclamation-triangle"></i> Manjkajoƒç datum</span>
      </div>
      <div class="col-3 my-auto">
        <!-- <button class="btn btn-primary">Dodaj</button> -->
        <!-- <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button> -->
      </div>
    </div>
  </div>

  <!-- Izbira datuma -->
  <div *ngIf="loaded" class="text-center">
    <mat-form-field appearance="fill">
      <mat-label>Choose a date</mat-label>
      <input matInput [matDatepicker]="picker" [formControl]="izbranDatum" (dateChange)="dateChange()">
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker [dateClass]="dateClass" touchUi #picker></mat-datepicker>
    </mat-form-field>
  </div>

  <!-- Seznam udelezencev -->
  <div *ngFor="let udelezenec of data" class="udelezenec row d-flex" [ngStyle]="{'background-color': (udelezenec.prisotnost[datum]==settings.simboli.prisoten_symbol) ? '#4CAF50' : ((udelezenec.prisotnost[datum]==settings.simboli.odsoten_symbol) ? '#9E9E9E' : ((udelezenec.prisotnost[datum]==settings.simboli.upraviceno_odsoten_symbol) ? '#9E9E9E' : '#ffffff'))}">
    <div class="ime col-6 justify-content-center align-self-center">{{udelezenec.ime}}</div>
    <div class="ikone col-6 row d-flex">
      <div class="accept col-4 align-self-center">
        <button mat-mini-fab color="accent" (click)="present(udelezenec.Id, 0)" [disabled]="!izbranDatumIsValid">
          <mat-icon class="material-icons-outlined color_blue">
            done
          </mat-icon>
        </button>
      </div>
      <div class="accept col-4 align-self-center">
        <button mat-mini-fab color="accent" (click)="present(udelezenec.Id, 1)" [disabled]="!izbranDatumIsValid">
          <mat-icon class="material-icons-outlined color_blue">
            radio_button_unchecked
          </mat-icon>
        </button>
      </div>
      <div class="reject col-4 align-self-center">
        <button mat-mini-fab color="accent" (click)="present(udelezenec.Id, 2)" [disabled]="!izbranDatumIsValid">
          <mat-icon class="material-icons-outlined color_blue">
            close
          </mat-icon>
        </button>
      </div>
    </div>
  </div>

  <div class="d-grid mt-3" *ngIf="loaded">
    <button (click)='clearInput()' type="button" class="btn btn-danger clearButton">
      <i id="clearIcon" class="far fa-trash-alt"></i>
    </button>
  </div>

  <div class="document_end"></div>
</div>
